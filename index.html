<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Maikon Ferreira da Silva ‚Ä¢ Conversa de Proposta | iGreen</title>
  <meta name="description" content="Conversa r√°pida: entenda como ter at√© 20% de desconto na conta de luz e gere sua proposta com Maikon Ferreira da Silva, Representante Oficial iGreen.">
  <link rel="icon" href="favicon.png" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    html,body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;}
    .bubble{max-width:85%; padding:.75rem 1rem; border-radius:1rem; margin:.25rem 0; font-size:.95rem; line-height:1.4}
    .left{background:#0b0f12; color:#e6f6ee; border:1px solid rgba(255,255,255,.1); border-top-left-radius:.5rem}
    .right{background:#18c37a; color:#082016; border-top-right-radius:.5rem; margin-left:auto}
    .typing{width:48px; height:20px; display:inline-flex; align-items:center; gap:4px}
    .dot{width:6px; height:6px; border-radius:999px; background:rgba(255,255,255,.9); opacity:.4; animation: b 1s infinite}
    .dot:nth-child(2){animation-delay:.15s} .dot:nth-child(3){animation-delay:.3s}
    @keyframes b {0%{opacity:.2} 50%{opacity:1} 100%{opacity:.2}}
    .btn{padding:.65rem 1rem; border-radius:.8rem; font-weight:600; border:1px solid rgba(255,255,255,.12)}
    .btn-alt{background:#0b0f12; color:#e6f6ee} .btn-prim{background:#18c37a; color:#082016; border-color:#14a864}
    .fixed-cta{position:fixed; inset-inline:0; bottom:0; background:rgba(11,15,18,.9); backdrop-filter:blur(8px); border-top:1px solid rgba(255,255,255,.08)}
  </style>
</head>
<body class="bg-neutral-950 text-white">
  <header class="sticky top-0 z-30 border-b border-white/10 bg-neutral-950/80 backdrop-blur">
    <div class="max-w-3xl mx-auto px-4 h-16 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <img src="diretor.jpg" class="w-9 h-9 rounded-lg object-cover ring-1 ring-white/15" alt="Maikon Ferreira da Silva"/>
        <div class="leading-tight">
          <div class="text-sm font-semibold">Maikon Ferreira da Silva</div>
          <div class="text-xs text-white/60">Representante Oficial iGreen</div>
        </div>
      </div>
      <a class="px-3 py-2 rounded-lg bg-emerald-500 text-neutral-900 font-semibold hover:opacity-90" target="_blank"
         href="https://wa.me/5533999681640?text=Ol%C3%A1!%20Vim%20pela%20p%C3%A1gina%20e%20quero fazer minha simula√ß√£o de desconto">WhatsApp</a>
    </div>
  </header>

  <main class="max-w-3xl mx-auto px-4 pb-28">
    <section id="chat" class="mt-6 md:mt-10 space-y-2"></section>
  </main>

  <div class="fixed-cta py-3">
    <div class="max-w-3xl mx-auto px-4 flex items-center gap-2">
      <input id="cidade" class="flex-1 px-3 py-2 rounded-lg bg-white/5 text-white placeholder-white/50 border border-white/10" placeholder="Cidade (ex.: Governador Valadares)">
      <input id="documento" class="w-52 px-3 py-2 rounded-lg bg-white/5 text-white placeholder-white/50 border border-white/10" placeholder="CNPJ/CPF (opcional)">
      <button id="gerar" class="btn btn-prim">Gerar proposta</button>
    </div>
  </div>

  <a class="fixed right-4 bottom-24" href="https://wa.me/5533999681640?text=Ol%C3%A1!%20quero fazer minha simula√ß√£o de desconto"
     target="_blank" aria-label="WhatsApp"><img src="whats.svg" class="w-14 h-14 drop-shadow-xl" alt="WhatsApp"/></a>

<script>
const chat = document.getElementById('chat');

function addLeft(html) {
  const div = document.createElement('div');
  div.className = 'bubble left';
  div.innerHTML = html;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

function addRight(text) {
  const div = document.createElement('div');
  div.className = 'bubble right';
  div.textContent = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

function typing(ms=900) {
  return new Promise(resolve => {
    const wrap = document.createElement('div');
    wrap.className = 'bubble left';
    const t = document.createElement('div');
    t.className='typing';
    t.innerHTML='<span class="dot"></span><span class="dot"></span><span class="dot"></span>';
    wrap.appendChild(t);
    chat.appendChild(wrap);
    chat.scrollTop = chat.scrollHeight;
    setTimeout(()=>{ wrap.remove(); resolve(); }, ms);
  });
}

async function flow() {
  addLeft('Ol√°! Eu sou <b>Maikon Ferreira da Silva</b>, Representante Oficial iGreen. üôÇ');
  await typing();
  addLeft('Posso te explicar <b>rapidinho</b> como pagar at√© <b>20% a menos</b> na conta de luz, sem obras e sem fidelidade.');
  await typing(700);
  addLeft('Voc√™ √©:');
  const btns = document.createElement('div');
  btns.className = 'flex flex-wrap gap-2';
  btns.innerHTML = `
    <button class="btn btn-prim" data-v="Empresa/MEI">Empresa / MEI</button>
    <button class="btn btn-alt" data-v="Residencial">Residencial</button>
  `;
  chat.appendChild(btns);
  chat.scrollTop = chat.scrollHeight;

  let perfil = await new Promise(resolve=>{
    btns.querySelectorAll('button').forEach(b=> b.onclick = ()=> resolve(b.dataset.v));
  });
  btns.remove();
  addRight(perfil);

  await typing(700);
  addLeft('Perfeito! Vou te mandar a simula√ß√£o <b>sem custo</b> pelo WhatsApp. Antes, escolha:');
  const btns2 = document.createElement('div');
  btns2.className = 'flex flex-wrap gap-2';
  btns2.innerHTML = `
    <button class="btn btn-prim" data-v="Quero entender como funciona">Quero entender como funciona</button>
    <button class="btn btn-alt" data-v="Quero s√≥ simular agora">Quero s√≥ simular agora</button>
  `;
  chat.appendChild(btns2);
  chat.scrollTop = chat.scrollHeight;

  let interesse = await new Promise(resolve=>{
    btns2.querySelectorAll('button').forEach(b=> b.onclick = ()=> resolve(b.dataset.v));
  });
  btns2.remove();
  addRight(interesse);

  if (interesse.includes('funciona')) {
    await typing();
    addLeft('Funciona assim: <br>1) Voc√™ me envia a UC/CPF/CNPJ;<br>2) Eu verifico elegibilidade e retorno a simula√ß√£o;<br>3) Se gostar, assinamos <b>eletronicamente</b> e em 7‚Äì10 dias a ativa√ß√£o acontece.');
  }
  await typing(700);
  addLeft('Para finalizar, preencha <b>cidade</b> e (se quiser) <b>CNPJ/CPF</b> ali embaixo e clique em <b>Gerar proposta</b>. Eu te atendo no Whats de imediato.');
}

flow();

document.getElementById('gerar').onclick = () => {
  const cidade = document.getElementById('cidade').value.trim();
  const doc = document.getElementById('documento').value.trim();
  let texto = `Ol√°, Maikon Ferreira da Silva! Vim pela p√°gina de proposta e quero fazer minha simula√ß√£o de desconto. Cidade: ${cidade or 'n√£o informado'}. Documento: ${doc or 'n√£o informado'}.`;
  const url = "https://wa.me/5533999681640?text=" + encodeURIComponent(texto);
  window.open(url, '_blank');
};
</script>
</body>
</html>
